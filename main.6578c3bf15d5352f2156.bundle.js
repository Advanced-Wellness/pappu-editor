(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1330:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(526);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(1354)],module)}.call(this,__webpack_require__(1331)(module))},1354:function(module,exports,__webpack_require__){var map={"./TimelineEditor.stories.tsx":1499};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1354},1499:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"WithContentReadonly",(function(){return WithContentReadonly})),__webpack_require__.d(__webpack_exports__,"TestHTML",(function(){return TestHTML}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),tslib_es6=__webpack_require__(74),styled_components_browser_esm=(__webpack_require__(1497),__webpack_require__(226)),index_es=__webpack_require__(2),dist_index_es=__webpack_require__(1),prosemirror_view_dist_index_es=__webpack_require__(339),prosemirror_history_dist_index_es=__webpack_require__(115),prosemirror_keymap_dist_index_es=__webpack_require__(167),prosemirror_commands_dist_index_es=__webpack_require__(133),Paragraph={attrs:{align:{default:null},color:{default:null}},content:"inline*",group:"block",marks:"_",parseDOM:[{tag:"p",getAttrs:function(gotDom){var dom=gotDom,textAlign=dom.style.textAlign,align=dom.getAttribute("align")||textAlign||"";return{align:align=/(left|right|center|justify)/.test(align)?align:null}}}],toDOM:function(node){var align=node.attrs.align,attrs={style:""},style="";return align&&"left"!==align&&(style+="text-align: "+align+";"),style&&(attrs.style=style),["p",attrs,0]}},Heading={attrs:{align:{default:null},color:{default:null},level:{default:1}},content:"inline*",group:"block",marks:"_",parseDOM:[{tag:"h1",getAttrs:function(gotDom){var dom=gotDom,textAlign=dom.style.textAlign,align=dom.getAttribute("align")||textAlign||"";return{align:align=/(left|right|center|justify)/.test(align)?align:null,level:1}}},{tag:"h2",getAttrs:function(gotDom){var dom=gotDom,textAlign=dom.style.textAlign,align=dom.getAttribute("align")||textAlign||"";return{align:align=/(left|right|center|justify)/.test(align)?align:null,level:2}}},{tag:"h3",getAttrs:function(gotDom){var dom=gotDom,textAlign=dom.style.textAlign,align=dom.getAttribute("align")||textAlign||"";return{align:align=/(left|right|center|justify)/.test(align)?align:null,level:3}}},{tag:"h4",getAttrs:function(gotDom){var dom=gotDom,textAlign=dom.style.textAlign,align=dom.getAttribute("align")||textAlign||"";return{align:align=/(left|right|center|justify)/.test(align)?align:null,level:4}}},{tag:"h5",getAttrs:function(gotDom){var dom=gotDom,textAlign=dom.style.textAlign,align=dom.getAttribute("align")||textAlign||"";return{align:align=/(left|right|center|justify)/.test(align)?align:null,level:5}}},{tag:"h6",getAttrs:function(gotDom){var dom=gotDom,textAlign=dom.style.textAlign,align=dom.getAttribute("align")||textAlign||"";return{align:align=/(left|right|center|justify)/.test(align)?align:null,level:6}}}],toDOM:function(node){var align=node.attrs.align,attrs={style:""},style="";return align&&"left"!==align&&(style+="text-align: "+align+";"),style&&(attrs.style=style),["h"+node.attrs.level,attrs,0]}},TimelineEditorSchema=new dist_index_es.h({nodes:{doc:{content:"block+"},paragraph:Paragraph,heading:Heading,text:{group:"inline",inline:!0}},marks:{strong:{toDOM:function(){return["strong"]},parseDOM:[{tag:"strong"}]},em:{toDom:function(){return["em"]},parseDOM:[{tag:"em"}]},u:{toDOM:function(){return["u"]},parseDOM:[{tag:"u"},{style:"text-decoration: underline"}]}}});function ChangeBlockType(state,newtype,newattribs,dispatch){var transaction=state.tr;state.doc.nodesBetween(state.selection.from,state.selection.to,(function(node,pos){node.isText||transaction.setNodeMarkup(pos,newtype,Object(tslib_es6.a)(Object(tslib_es6.a)({},node.attrs),newattribs))})),dispatch(transaction)}function ChangeAlignment(state,align,dispatch){var transaction=state.tr;state.doc.nodesBetween(state.selection.from,state.selection.to,(function(node,pos){!node.isText&&"align"in node.attrs&&transaction.setNodeMarkup(pos,void 0,Object(tslib_es6.a)(Object(tslib_es6.a)({},node.attrs),{align:align}))})),dispatch(transaction)}var templateObject_1,TimelineEditor_templateObject_1,Menubar=function(_a){var editorView=_a.editorView,dispatch=editorView.dispatch,state=editorView.state,isBoldActive=-1!==state.selection.$anchor.marks().findIndex((function(m){return"strong"===m.type.name})),isUnderlineActive=-1!==state.selection.$anchor.marks().findIndex((function(m){return"u"===m.type.name})),isH1=state.selection.$anchor.node().type===TimelineEditorSchema.nodes.heading&&1===state.selection.$anchor.node().attrs.level,isH2=state.selection.$anchor.node().type===TimelineEditorSchema.nodes.heading&&2===state.selection.$anchor.node().attrs.level,isCenterAlign="center"===state.selection.$anchor.node().attrs.align,isRightAlign="right"===state.selection.$anchor.node().attrs.align;return react_default.a.createElement("div",{style:{display:"flex",flexDirection:"row",padding:3}},react_default.a.createElement(MenuButton,{key:"bold-menu-button",onMouseDown:function(e){e.preventDefault(),Object(prosemirror_commands_dist_index_es.b)(TimelineEditorSchema.marks.strong)(state,dispatch)},active:isBoldActive,type:"button"},react_default.a.createElement("img",{width:buttonWidth,style:{opacity:isBoldActive?activeIconOpacity:nonActiveIconOpactity},alt:"bold",src:"https://img.icons8.com/ios-glyphs/60/000000/bold.png"})),react_default.a.createElement(MenuButton,{key:"underline-menu-button",onMouseDown:function(e){e.preventDefault(),Object(prosemirror_commands_dist_index_es.b)(TimelineEditorSchema.marks.u)(state,dispatch)},active:isUnderlineActive,type:"button"},react_default.a.createElement("img",{style:{opacity:isUnderlineActive?activeIconOpacity:nonActiveIconOpactity},width:buttonWidth,alt:"underline",src:"https://img.icons8.com/ios-glyphs/60/000000/underline.png"})),react_default.a.createElement(MenuButton,{key:"h1-menu-button",onMouseDown:function(event){event.preventDefault(),isH1?ChangeBlockType(state,TimelineEditorSchema.nodes.paragraph,{},dispatch):ChangeBlockType(state,TimelineEditorSchema.nodes.heading,{level:1},dispatch)},style:{marginLeft:10},active:isH1,type:"button"},react_default.a.createElement("img",{style:{opacity:isH1?activeIconOpacity:nonActiveIconOpactity},width:buttonWidth,alt:"h1",src:"https://img.icons8.com/ios-glyphs/60/000000/header-1.png"})),react_default.a.createElement(MenuButton,{key:"h2-menu-button",onMouseDown:function(event){event.preventDefault(),isH2?ChangeBlockType(state,TimelineEditorSchema.nodes.paragraph,{},dispatch):ChangeBlockType(state,TimelineEditorSchema.nodes.heading,{level:2},dispatch)},active:isH2,type:"button"},react_default.a.createElement("img",{style:{opacity:isH2?activeIconOpacity:nonActiveIconOpactity},width:buttonWidth,alt:"h2",src:"https://img.icons8.com/ios-glyphs/60/000000/header-2.png"})),react_default.a.createElement(MenuButton,{key:"alignLeft-menu-button",onMouseDown:function(e){e.preventDefault(),ChangeAlignment(state,null,dispatch)},active:!1,style:{marginLeft:10},type:"button"},react_default.a.createElement("img",{style:{opacity:nonActiveIconOpactity},width:buttonWidth,alt:"align-left",src:"https://img.icons8.com/ios-glyphs/30/000000/align-left.png"})),react_default.a.createElement(MenuButton,{key:"alignCenter-menu-button",onMouseDown:function(e){e.preventDefault(),ChangeAlignment(state,"center",dispatch)},active:isCenterAlign,type:"button"},react_default.a.createElement("img",{style:{opacity:isCenterAlign?activeIconOpacity:nonActiveIconOpactity},width:buttonWidth,alt:"align-left",src:"https://img.icons8.com/ios-glyphs/30/000000/align-center.png"})),react_default.a.createElement(MenuButton,{key:"alignRight-menu-button",active:isRightAlign,onMouseDown:function(e){e.preventDefault(),ChangeAlignment(state,"right",dispatch)},type:"button"},react_default.a.createElement("img",{style:{opacity:isRightAlign?activeIconOpacity:nonActiveIconOpactity},width:buttonWidth,alt:"align-left",src:"https://img.icons8.com/ios-glyphs/30/000000/align-right.png"})))},buttonWidth="18px",activeIconOpacity=.7,nonActiveIconOpactity=.2,MenuButton=styled_components_browser_esm.a.button(templateObject_1||(templateObject_1=Object(tslib_es6.c)(["\n  padding: 3px;\n  margin-right: 5px;\n  cursor: pointer;\n  border-radius: 5px;\n  outline: none;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  &:hover {\n    background-color: #f0f0f0;\n    font-weight: bolder;\n  }\n"],["\n  padding: 3px;\n  margin-right: 5px;\n  cursor: pointer;\n  border-radius: 5px;\n  outline: none;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  &:hover {\n    background-color: #f0f0f0;\n    font-weight: bolder;\n  }\n"])),(function(props){return props.active?"#f0f0f0":"white"})),TimelineEditor_TimelineEditor=function(_super){function TimelineEditor(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.handleChange=function(state){_this.props.onChange&&!_this.props.readOnly&&_this.props.onChange(state.doc.toJSON())},_this}return Object(tslib_es6.b)(TimelineEditor,_super),TimelineEditor.prototype.componentDidMount=function(){var _this=this,doc=this.createDocument(this.props.content);console.log("doc:",doc),this.editorState=index_es.b.create({schema:TimelineEditorSchema,doc:doc,plugins:[Object(prosemirror_history_dist_index_es.a)(),Object(prosemirror_keymap_dist_index_es.a)({"Mod-z":prosemirror_history_dist_index_es.c,"Mod-y":prosemirror_history_dist_index_es.b}),Object(prosemirror_keymap_dist_index_es.a)(prosemirror_commands_dist_index_es.a)]}),this.editorView=new prosemirror_view_dist_index_es.a(this.element,{state:this.editorState,editable:function(){return!_this.props.readOnly},dispatchTransaction:function(transaction){if(_this.editorView){var _a=_this.editorView.state.applyTransaction(transaction),state=_a.state,transactions=_a.transactions;_this.editorView.updateState(state),transactions.some((function(tr){return tr.docChanged}))&&_this.handleChange(state),_this.forceUpdate()}},handlePaste:function(view,event,slice){return console.log("view:",view,event,slice),!1}}),this.forceUpdate()},TimelineEditor.prototype.componentDidUpdate=function(prevProps){var _a,_this=this;if(this.props.content!==prevProps.content){var doc=this.createDocument(this.props.content);null===(_a=this.editorView)||void 0===_a||_a.destroy(),this.editorState=index_es.b.create({schema:TimelineEditorSchema,doc:doc,plugins:[Object(prosemirror_history_dist_index_es.a)(),Object(prosemirror_keymap_dist_index_es.a)({"Mod-z":prosemirror_history_dist_index_es.c,"Mod-y":prosemirror_history_dist_index_es.b}),Object(prosemirror_keymap_dist_index_es.a)(prosemirror_commands_dist_index_es.a)]}),this.editorView=new prosemirror_view_dist_index_es.a(this.element,{state:this.editorState,editable:function(){return!_this.props.readOnly},dispatchTransaction:function(transaction){if(_this.editorView){var _a=_this.editorView.state.applyTransaction(transaction),state=_a.state,transactions=_a.transactions;_this.editorView.updateState(state),transactions.some((function(tr){return tr.docChanged}))&&_this.handleChange(state),_this.forceUpdate()}},handlePaste:function(view,event,slice){return console.log("view:",view,event,slice),!1}}),this.forceUpdate()}},TimelineEditor.prototype.componentWillUnmount=function(){var _a;null===(_a=this.editorView)||void 0===_a||_a.destroy()},TimelineEditor.prototype.createDocument=function(content,parseOptions){if(void 0===content&&(content=this.props.content),void 0===parseOptions&&(parseOptions={}),null===content)return TimelineEditorSchema.nodeFromJSON(this.props.emptyDocument);if("object"==typeof content)try{return TimelineEditorSchema.nodeFromJSON(content)}catch(error){return console.warn("[warn]: Invalid content.","Passed value:",content,"Error:",error),TimelineEditorSchema.nodeFromJSON(this.props.emptyDocument)}if("string"==typeof content)try{return TimelineEditorSchema.nodeFromJSON(JSON.parse(content))}catch(error){console.log("error:",error);var element=document.createElement("div");return element.innerHTML=content.trim(),dist_index_es.a.fromSchema(TimelineEditorSchema).parse(element,parseOptions)}return TimelineEditorSchema.nodeFromJSON(this.props.emptyDocument)},TimelineEditor.prototype.render=function(){var _this=this;return react.createElement("div",{style:this.props.containerStyles},react.createElement("div",null,this.editorState&&this.editorView&&!this.props.readOnly&&react.createElement(Menubar,{editorView:this.editorView,editorState:this.editorState})),react.createElement(EditorContainer,{style:this.props.editorStyles,ref:function(ref){return _this.element=ref}}))},TimelineEditor.defaultProps={readOnly:!1,enableDevTools:!0,value:null,emptyDocument:{type:"doc",content:[{type:"paragraph"}]}},TimelineEditor}(react.Component),src_TimelineEditor=TimelineEditor_TimelineEditor,EditorContainer=styled_components_browser_esm.a.div(TimelineEditor_templateObject_1||(TimelineEditor_templateObject_1=Object(tslib_es6.c)(["\n  padding: 5px;\n\n  .ProseMirror {\n    position: relative;\n    outline: none;\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    white-space: break-spaces;\n  }\n  p {\n    margin: 2px;\n  }\n"],["\n  padding: 5px;\n\n  .ProseMirror {\n    position: relative;\n    outline: none;\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    white-space: break-spaces;\n  }\n  p {\n    margin: 2px;\n  }\n"])));try{TimelineEditor_TimelineEditor.displayName="TimelineEditor",TimelineEditor_TimelineEditor.__docgenInfo={description:"",displayName:"TimelineEditor",props:{onChange:{defaultValue:null,description:"Gives you the current value",name:"onChange",required:!1,type:{name:"(content: object) => void"}},readOnly:{defaultValue:{value:!1},description:"If its readonly, then it will show the content passed in 'content' prop. (default: false)",name:"readOnly",required:!1,type:{name:"boolean"}},editorStyles:{defaultValue:null,description:"Styles of Editor Area",name:"editorStyles",required:!1,type:{name:"CSSProperties"}},containerStyles:{defaultValue:null,description:"Styles of Complete Container",name:"containerStyles",required:!1,type:{name:"CSSProperties"}},enableDevTools:{defaultValue:{value:!0},description:"Enables the prosemirror dev tools. (default: true)",name:"enableDevTools",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"Content of the editor",name:"content",required:!1,type:{name:"string | object"}},emptyDocument:{defaultValue:{value:"{\n      type: 'doc',\n      content: [\n        {\n          type: 'paragraph'\n        }\n      ]\n    }"},description:"Dont change it for now",name:"emptyDocument",required:!1,type:{name:"object"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/TimelineEditor/index.tsx#TimelineEditor"]={docgenInfo:TimelineEditor_TimelineEditor.__docgenInfo,name:"TimelineEditor",path:"src/TimelineEditor/index.tsx#TimelineEditor"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(488).withSource;var addSourceDecorator=__webpack_require__(488).addSource,__SOURCE_PREFIX__="/Users/alimuqadddas/Advanced Wellness/github/packages/aw-rich-editor/stories",__STORY__="import React, { useState } from 'react';\nimport { TimelineEditor } from '../src';\n\nexport default {\n  title: 'TimelineEditor',\n};\n\n// By passing optional props to this story, you can control the props of the component when\n// you consume the story in a test.\nexport const Default = () =>\n  <TimelineEditor\n    readOnly={false}\n    content={localStorage.getItem('editor-value')}\n    onChange={(content) => {\n      localStorage.setItem('editor-value', JSON.stringify(content))\n    }}\n  />\n;\n\nexport const WithContentReadonly = () => {\n  return(\n    <TimelineEditor\n      content={localStorage.getItem('editor-value')}\n      readOnly={true}\n    />\n  )\n}\n\nexport const TestHTML = () => {\n  const [content, setContent] = useState<string>('')\n\n  return (\n    <div>\n      <input style={{ width: '100%', height: '200px'}} placeholder=\"Enter your HTML here\" type=\"text\" name=\"\" onChange={(e) => { setContent(e.target.value)}} id=\"\"/>\n      <TimelineEditor\n        content={content}\n        readOnly={true}\n      />\n    </div>\n  )\n}\n",__ADDS_MAP__={"timelineeditor--default":{startLoc:{col:23,line:10},endLoc:{col:4,line:17},startBody:{col:23,line:10},endBody:{col:4,line:17}},"timelineeditor--with-content-readonly":{startLoc:{col:35,line:20},endLoc:{col:1,line:27},startBody:{col:35,line:20},endBody:{col:1,line:27}},"timelineeditor--test-html":{startLoc:{col:24,line:29},endLoc:{col:1,line:41},startBody:{col:24,line:29},endBody:{col:1,line:41}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},Default=(__webpack_exports__.default={parameters:{storySource:{source:"import React, { useState } from 'react';\nimport { TimelineEditor } from '../src';\n\nexport default {\n  title: 'TimelineEditor',\n};\n\n// By passing optional props to this story, you can control the props of the component when\n// you consume the story in a test.\nexport const Default = () =>\n  <TimelineEditor\n    readOnly={false}\n    content={localStorage.getItem('editor-value')}\n    onChange={(content) => {\n      localStorage.setItem('editor-value', JSON.stringify(content))\n    }}\n  />\n;\n\nexport const WithContentReadonly = () => {\n  return(\n    <TimelineEditor\n      content={localStorage.getItem('editor-value')}\n      readOnly={true}\n    />\n  )\n}\n\nexport const TestHTML = () => {\n  const [content, setContent] = useState<string>('')\n\n  return (\n    <div>\n      <input style={{ width: '100%', height: '200px'}} placeholder=\"Enter your HTML here\" type=\"text\" name=\"\" onChange={(e) => { setContent(e.target.value)}} id=\"\"/>\n      <TimelineEditor\n        content={content}\n        readOnly={true}\n      />\n    </div>\n  )\n}\n",locationsMap:{"timelineeditor--default":{startLoc:{col:23,line:10},endLoc:{col:4,line:17},startBody:{col:23,line:10},endBody:{col:4,line:17}},"timelineeditor--with-content-readonly":{startLoc:{col:35,line:20},endLoc:{col:1,line:27},startBody:{col:35,line:20},endBody:{col:1,line:27}},"timelineeditor--test-html":{startLoc:{col:24,line:29},endLoc:{col:1,line:41},startBody:{col:24,line:29},endBody:{col:1,line:41}}}}},title:"TimelineEditor"},addSourceDecorator((function(){return react_default.a.createElement(src_TimelineEditor,{readOnly:!1,content:localStorage.getItem("editor-value"),onChange:function(content){localStorage.setItem("editor-value",JSON.stringify(content))}})}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/TimelineEditor.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})),WithContentReadonly=addSourceDecorator((function(){return react_default.a.createElement(src_TimelineEditor,{content:localStorage.getItem("editor-value"),readOnly:!0})}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/TimelineEditor.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),TestHTML=addSourceDecorator((function(){var _a=Object(react.useState)(""),content=_a[0],setContent=_a[1];return react_default.a.createElement("div",null,react_default.a.createElement("input",{style:{width:"100%",height:"200px"},placeholder:"Enter your HTML here",type:"text",name:"",onChange:function(e){setContent(e.target.value)},id:""}),react_default.a.createElement(src_TimelineEditor,{content:content,readOnly:!0}))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/TimelineEditor.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},532:function(module,exports,__webpack_require__){__webpack_require__(533),__webpack_require__(676),__webpack_require__(677),__webpack_require__(1329),module.exports=__webpack_require__(1330)},595:function(module,exports){}},[[532,1,2]]]);
//# sourceMappingURL=main.6578c3bf15d5352f2156.bundle.js.map